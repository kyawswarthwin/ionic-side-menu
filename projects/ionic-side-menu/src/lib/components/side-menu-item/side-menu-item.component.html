<div *ngIf="item.children && item.children.length; then thenBlock else
  elseBlock"></div>
<ng-template #thenBlock>
  <ion-item [disabled]="isObservable(item.disabled) ? (item.disabled | async) :
    item.disabled" [style]="sanitizer.bypassSecurityTrustStyle('--padding-start:
    ' + (depth + 1) * 16 + 'px')" button detail="false"
    (click)="expanded=!expanded">
    <ion-icon *ngIf="item.icon" slot="start" [name]="item.icon"></ion-icon>
    <ion-label>{{ item.label }}</ion-label>
    <ion-badge *ngIf="(item.badge | async) as badge" slot="end"
      [color]="badge.color && badge.color">{{ badge.text }}</ion-badge>
    <ion-icon slot="end" [name]="expanded ? 'arrow-dropup' : 'arrow-dropdown'"></ion-icon>
  </ion-item>
  <ng-container *ngIf="expanded">
    <ion-side-menu-item *ngFor="let item of item.children" [item]="item"
      [depth]="depth + 1"></ion-side-menu-item>
  </ng-container>
</ng-template>
<ng-template #elseBlock>
  <ion-menu-toggle auto-hide="false">
    <ion-item *ngIf="item.can ? (item.can() | async) : true"
      [disabled]="isObservable(item.disabled) ? (item.disabled | async) :
      item.disabled"
      [style]="sanitizer.bypassSecurityTrustStyle('--padding-start: ' + (depth +
      1) * 16 + 'px')" [routerLink]="item.url ? item.url : []"
      [routerLinkActive]="item.url ? 'active' : []" [routerDirection]="item.url
      && 'root'" (click)="item.handler && item.handler()">
      <ion-icon *ngIf="item.icon" slot="start" [name]="item.icon"></ion-icon>
      <ion-label>{{ item.label }}</ion-label>
      <ion-badge *ngIf="(item.badge | async) as badge" slot="end"
        [color]="badge.color && badge.color">{{ badge.text }}</ion-badge>
    </ion-item>
  </ion-menu-toggle>
</ng-template>
